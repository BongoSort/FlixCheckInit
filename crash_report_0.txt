#
# An unexpected error has been detected by the Flix compiler:
#
#   unexpected empty choose
#
# This is a bug in the Flix compiler. Please report it here:
#
# https://github.com/flix/flix/issues
#
# -- Flix Compiler --
#
# Flix Version : 0.47.0
#   incremental: All
#
# -- Java Virtual Machine --
#
# JVM Version  : 21.0.2 (2024-01-16)
# JVM Vendor   : Eclipse Adoptium
# JAVA_HOME    : C:\Program Files\Eclipse Adoptium\jdk-21.0.2.13-hotspot
# System       : Windows 10 (10.0)
#
# -- Stack Trace --
ca.uwaterloo.flix.util.InternalCompilerException: unexpected empty choose
	at ca.uwaterloo.flix.language.phase.typer.RestrictableChooseConstraintGen$.$anonfun$visitRestrictableChoose$1(RestrictableChooseConstraintGen.scala:75)
	at scala.Option.getOrElse(Option.scala:201)
	at ca.uwaterloo.flix.language.phase.typer.RestrictableChooseConstraintGen$.visitRestrictableChoose(RestrictableChooseConstraintGen.scala:75)
	at ca.uwaterloo.flix.language.phase.typer.ConstraintGen$.visitExp(ConstraintGen.scala:437)
	at ca.uwaterloo.flix.language.phase.typer.ConstraintGen$.visitExp(ConstraintGen.scala:159)
	at ca.uwaterloo.flix.language.phase.typer.ConstraintGen$.$anonfun$visitExp$7(ConstraintGen.scala:130)
	at scala.collection.immutable.List.map(List.scala:246)
	at ca.uwaterloo.flix.language.phase.typer.ConstraintGen$.visitExp(ConstraintGen.scala:130)
	at ca.uwaterloo.flix.language.phase.Typer$.visitDef(Typer.scala:169)
	at ca.uwaterloo.flix.language.phase.Typer$.$anonfun$visitInstance$4(Typer.scala:265)
	at ca.uwaterloo.flix.util.Validation$.$anonfun$fastTraverse$1(Validation.scala:284)
	at scala.collection.immutable.List.foreach(List.scala:333)
	at ca.uwaterloo.flix.util.Validation$.fastTraverse(Validation.scala:283)
	at ca.uwaterloo.flix.util.Validation$.traverse(Validation.scala:237)
	at ca.uwaterloo.flix.language.phase.Typer$.visitInstance(Typer.scala:265)
	at ca.uwaterloo.flix.language.phase.Typer$.$anonfun$visitInstances$4(Typer.scala:242)
	at ca.uwaterloo.flix.util.ParOps$.$anonfun$parMap$2(ParOps.scala:64)
	at java.base/java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1423)
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312)
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843)
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808)
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)

